{% extends '/base.html.twig' %}

{% block body%}
<div class="top_donation">
    <div></div>
    <h3>Donation List</h3>
    <div class="function">
        <ul class="function_nav">
        {#<a class="btn btn-outline-secondary" role="button"
            href="{{ path('donation_add') }}">
            add
        </a>#}
            <li><a class="btn btn-outline-secondary" role="button"
                href="{{ path('donation_filter') }}"> 
                filter
            </a></li>
            <li><a class="btn btn-outline-secondary" role="button"
                href="{{ path('all_project') }}"> 
                project
            </a></li>
            {#<li><a class="btn btn-outline-secondary" role="button"
                href="{{ path('donation_sort', {'fields': 'id', 'orderBy': 'desc'}) }}">
                sort_testing
            </a></li>#}
        </ul>
    </div>
</div>
<hr></hr>

<div class="donation_list">
    <table class="donation_table">
        <tr>
            <th style="padding-left: 20px;">
                <table class="donation_list_table">
                    <th>id</th>
                    <th>
                        <div class="triangle-container">
                            <a class="triangle upward-triangle" href="{{ path('donation_sort', {'fields': 'id'}) }}"></a>
                            <a class="triangle downward-triangle" href="{{ path('donation_sort', {'fields': 'id', 'orderBy': 'desc'}) }}"></a>
                        </div>
                    </th>
                </table>
            </th>
            <th style="padding-left: 30px;">
                <table class="donation_list_table">
                    <th>name</th>
                    <th>
                        <div class="triangle-container">
                            <a class="triangle upward-triangle" href="{{ path('donation_sort', {'fields': 'name'}) }}"></a>
                            <a class="triangle downward-triangle" href="{{ path('donation_sort', {'fields': 'name', 'orderBy': 'desc'}) }}"></a>
                        </div>
                    </th>
                </table>
            </th>
            <th style="padding-left: 20px;">
                <table class="donation_list_table">
                    <th>money</th>
                    <th>
                        <div class="triangle-container">
                            <a class="triangle upward-triangle" href="{{ path('donation_sort', {'fields': 'money'}) }}"></a>
                            <a class="triangle downward-triangle" href="{{ path('donation_sort', {'fields': 'money', 'orderBy': 'desc'}) }}"></a>
                        </div>
                    </th>
                </table>
            </th>
            <th style="padding-left: 30px;">
                <table class="donation_list_table">
                    <th>person_id</th>
                    <th>
                        <div class="triangle-container">
                            <a class="triangle upward-triangle" href="{{ path('donation_sort', {'fields': 'person_id'}) }}"></a>
                            <a class="triangle downward-triangle" href="{{ path('donation_sort', {'fields': 'person_id', 'orderBy': 'desc'}) }}"></a>
                        </div>
                    </th>
                </table>
            </th>
            <th>
                <table class="donation_list_table">
                    <th>pay</th>
                    <th>
                        <div class="triangle-container">
                            <a class="triangle upward-triangle" href="{{ path('donation_sort', {'fields': 'pay'}) }}"></a>
                            <a class="triangle downward-triangle" href="{{ path('donation_sort', {'fields': 'pay', 'orderBy': 'desc'}) }}"></a>
                        </div>
                    </th>
                </table>
            </th>
             <th style="padding-left: 20px;">
                <table class="donation_list_table">
                    <th>receiptType</th>
                    <th>
                        <div class="triangle-container">
                            <a class="triangle upward-triangle" href="{{ path('donation_sort', {'fields': 'type'}) }}"></a>
                            <a class="triangle downward-triangle" href="{{ path('donation_sort', {'fields': 'type', 'orderBy': 'desc'}) }}"></a>
                        </div>
                    </th>
                </table>
            </th>
            <th style="padding-left: 35px;">
                <table class="donation_list_table">
                    <th>status</th>
                    <th>
                        <div class="triangle-container">
                            <a class="triangle upward-triangle" href="{{ path('donation_sort', {'fields': 'status'}) }}"></a>
                            <a class="triangle downward-triangle" href="{{ path('donation_sort', {'fields': 'status', 'orderBy': 'desc'}) }}"></a>
                        </div>
                    </th>
                </table>
            </th>
            <th style="padding-left: 45px;">
                <table class="donation_list_table">
                    <th>date</th>
                    <th>
                        <div class="triangle-container">
                            <a class="triangle upward-triangle" href="{{ path('donation_sort', {'fields': 'date'}) }}"></a>
                            <a class="triangle downward-triangle" href="{{ path('donation_sort', {'fields': 'date', 'orderBy': 'desc'}) }}"></a>
                        </div>
                    </th>
                </table>
            </th>
            <th style="padding-left: 20px;">
                <table class="donation_list_table">
                    <th>paydate</th>
                    <th>
                        <div class="triangle-container">
                            <a class="triangle upward-triangle" href="{{ path('donation_sort', {'fields': 'pay_date'}) }}"></a>
                            <a class="triangle downward-triangle" href="{{ path('donation_sort', {'fields': 'pay_date', 'orderBy': 'desc'}) }}"></a>
                        </div>
                    </th>
                </table>
            </th>
            <th>link</th>
            <th>status</th>
        </tr>
        
        {% for donation in donations %}
        <tr>
            <td>{{ donation.id }}</td>
            <td>{{ donation.name }}</td>
            <td>{{ donation.money }}</td>
            <td>{{ donation.personId }}</td>
            <td>{{ donation.pay }}</td>
            <td>{{ donation.type }}</td>
            <td>
                {% if donation.type != "none" %}
                    {{ donation.status }}
                {% else %}
                    no need
                {% endif %}
            </td>
            <td>{{ donation.date|date('Y-m-d') }}</td>
            <td>{{ donation.paydate is empty ? '' : donation.paydate|date('Y-m-d') }}</td>
            <td><a class="btn btn-outline-secondary" role="button"
                    href="{{ path('donation_show', {'did': donation.id}) }}">
                    link
                </a></td>
            <td>
                {% if donation.type != "none" %}
                <a class="btn btn-outline-secondary" role="button"
                    href="{{ path('donation_status', {'did': donation.id}) }}">
                    change status
                </a>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
        
    </table>
</div>
<p></p>

    {#Donation List:
    <ul>
    {% for donation in donations %}
        <li>id: {{ donation.id }}
            name: {{ donation.name }}
            money: {{ donation.money }}
            person_id: {{ donation.personId }}
            email: {{ donation.email }}
            phone: {{ donation.phone }}
            anonymous: {{ donation.anonymous }}
            identity_type: {{ donation.identityType }}
            title: {{ donation.title }}
            pay: {{ donation.pay }}
            status: {{ donation.status }}
            type: {{ donation.type }}
            description: {{ donation.description }}
            address: {{ donation.address }}
            zipcode: {{ donation.zipcode }}
            date: {{ donation.date|date('Y-m-d') }}
            paydate: {{ donation.paydate is empty ? '' : donation.paydate|date('Y-m-d') }}
            <a class="btn btn-outline-secondary" role="button"
                href="{{ path('donation_show', {'did': donation.id}) }}">
                link
            </a>
            <a class="btn btn-outline-secondary" role="button"
                href="{{ path('donation_status', {'did': donation.id}) }}">
                status
            </a>
        </li>
    {% endfor %}
    </ul>#}

{% endblock %}


